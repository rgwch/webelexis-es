<template>
    <require from="../../components/searchfield"></require>
    <require from="../../resources/fhir-resource-value-converter"></require>

    <form role="form" submit.delegate="doSearch()">
    <searchfield value.two-way="searchexpr"></searchfield>
    </form>
    <ul class="list-group">
        <li class="list-group-item" repeat.for="patient of patients">
                <a route-href="route: searchbox-details; params.bind: {id: patient.id}">
                        ${patient.fhir.name[0].given | fhirResource:'name[0].given':patient.fhir}
                        ${patient.fhir.name[0].family | fhirResource: 'name[0].family':patient.fhir}
                        (${patient.gender}),
                        ${patient.birthDate}
                      </a>
        </li>
    </ul>
</template>